{"version":3,"file":"client.js","sourceRoot":"","sources":["../client.ts"],"names":[],"mappings":"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","sourcesContent":["// Sol√∏ API client\n\nexport interface DebugInfo {\n\tserver?: ServerInfo | null;\n\tip?:     IPInfo | null;\n\thttp?:   HTTPInfo | null;\n\ttls?:    TLSInfo | null;\n}\n\nexport interface JSONError {\n\tmessages:  string[];\n}\n\nexport interface GetOpts {\n\tprev?: any | null;\n}\n\nexport interface ListOpts {\n\tstream?:  string | null;\n\tlimit?:   number | null;\n\toffset?:  number | null;\n\tafter?:   string | null;\n\tsorts?:   string[] | null;\n\tfilters?: Filter[] | null;\n\tprev?:    any | null;\n}\n\nexport interface UpdateOpts {\n\tprev?: any | null;\n}\n\nexport interface Task {\n\tid?:         string | null;\n\tetag?:       string | null;\n\tgeneration?: number | null;\n\tuserID?:     string | null;\n\tname?:       string | null;\n\tcomplete?:   boolean | null;\n\tafter?:      string | null;\n}\n\nexport interface Token {\n\tid?:         string | null;\n\tetag?:       string | null;\n\tgeneration?: number | null;\n\tuserID?:     string | null;\n\ttoken?:      string | null;\n}\n\nexport interface User {\n\tid?:           string | null;\n\tetag?:         string | null;\n\tgeneration?:   number | null;\n\tname?:         string | null;\n\temail?:        string | null;\n\tpassword?:     string | null;\n\tserviceAdmin?: boolean | null;\n}\n\nexport interface ServerInfo {\n\thostname:  string;\n}\n\nexport interface IPInfo {\n\tremoteAddr:  string;\n}\n\nexport interface HTTPInfo {\n\tprotocol:  string;\n\tmethod:    string;\n\theader:    string;\n\turl:       string;\n}\n\nexport interface TLSInfo {\n\tversion:             number;\n\tdidResume:           boolean;\n\tcipherSuite:         number;\n\tnegotiatedProtocol:  string;\n\tserverName:          string;\n}\n\nexport interface Filter {\n\tpath:   string;\n\top:     string;\n\tvalue:  string;\n}\n\nclass ClientCore {\n\tprotected baseURL: URL;\n\tprotected headers: Headers = new Headers();\n\n\tprivate static etag = Symbol('etag');\n\n\tconstructor(baseURL: string) {\n\t\tthis.baseURL = new URL(baseURL);\n\t}\n\n\tasync debugInfo(): Promise<DebugInfo> {\n\t\treturn this.fetch('GET', '_debug');\n\t}\n\n\t//// Generic\n\n\tasync createName<T>(name: string, obj: T): Promise<T> {\n\t\treturn this.fetch('POST', encodeURIComponent(name), null, null, null, obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync deleteName(name: string, id: string): Promise<void> {\n\t\treturn this.fetch('DELETE', `${encodeURIComponent(name)}/${encodeURIComponent(id)}`);\n\t}\n\n\t// TODO: Add findName()\n\n\t// TODO: Add GetOpts\n\tasync getName<T>(name: string, id: string): Promise<T> {\n\t\treturn this.fetch('GET', `${encodeURIComponent(name)}/${encodeURIComponent(id)}`);\n\t}\n\n\tasync listName<T>(name: string, opts?: ListOpts | null): Promise<T[]> {\n\t\treturn this.fetch('GET', `${encodeURIComponent(name)}`, this.buildListParams(opts), this.buildListHeaders(opts), opts?.prev);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync replaceName<T>(name: string, id: string, obj: T): Promise<T> {\n\t\treturn this.fetch('PUT', `${encodeURIComponent(name)}/${encodeURIComponent(id)}`, null, null, null, obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync updateName<T>(name: string, id: string, obj: T): Promise<T> {\n\t\treturn this.fetch('PATCH', `${encodeURIComponent(name)}/${encodeURIComponent(id)}`, null, null, null, obj);\n\t}\n\n\t// TODO: Add streamGetName\n\t// TODO: Add streamListName\n\n\tprivate buildListParams(opts: ListOpts | null | undefined): URLSearchParams {\n\t\tconst params = new URLSearchParams();\n\n\t\tif (!opts) {\n\t\t\treturn params;\n\t\t}\n\n\t\tif (opts.stream) {\n\t\t\tparams.set('_stream', opts.stream);\n\t\t}\n\n\t\tif (opts.limit) {\n\t\t\tparams.set('_limit', `${opts.limit}`);\n\t\t}\n\n\t\tif (opts.offset) {\n\t\t\tparams.set('_offset', `${opts.offset}`);\n\t\t}\n\n\t\tif (opts.after) {\n\t\t\tparams.set('_after', `${opts.after}`);\n\t\t}\n\n\t\tfor (const filter of opts.filters || []) {\n\t\t\tparams.set(`${filter.path}[${filter.op}]`, filter.value);\n\t\t}\n\n\t\tfor (const sort of opts.sorts || []) {\n\t\t\tparams.append('_sort', sort);\n\t\t}\n\n\t\treturn params;\n\t}\n\n\tprivate buildListHeaders(opts: ListOpts | null | undefined): Headers {\n\t\tconst headers = new Headers();\n\n\t\tif (!opts) {\n\t\t\treturn headers;\n\t\t}\n\n\t\tif (opts.prev) {\n\t\t\tconst etag = Object.getOwnPropertyDescriptor(opts.prev, ClientCore.etag)!.value;\n\t\t\theaders.set('If-None-Match', etag);\n\t\t}\n\n\t\treturn headers;\n\t}\n\n\tprotected async fetch(method: string, path: string, params?: URLSearchParams | null, headers?: Headers | null, prev?: any | null, body?: any): Promise<any> {\n\t\tconst url = new URL(path, this.baseURL);\n\n\t\tif (params) {\n\t\t\turl.search = `?${params.toString()}`;\n\t\t}\n\n\t\tconst opts: RequestInit = {\n\t\t\tmethod: method,\n\t\t\theaders: new Headers(this.headers),\n\t\t\tmode: 'cors',\n\t\t\tcredentials: 'omit',\n\t\t\treferrerPolicy: 'no-referrer',\n\t\t\tkeepalive: true,\n\t\t}\n\n\t\tif (headers) {\n\t\t\tfor (const [k, v] of headers) {\n\t\t\t\t(<Headers>opts.headers).append(k, v);\n\t\t\t}\n\t\t}\n\n\t\tif (body) {\n\t\t\topts.body = JSON.stringify(body);\n\t\t\t(<Headers>opts.headers).set('Content-Type', 'application/json');\n\t\t}\n\n\t\tconst req = new Request(url, opts);\n\n\t\tconst resp = await fetch(req);\n\n\t\tif (prev && resp.status == 304) {\n\t\t\treturn prev;\n\t\t}\n\n\t\tif (!resp.ok) {\n\t\t\tthrow new Error(await resp.json());\n\t\t}\n\n\t\tif (resp.status == 200) {\n\t\t\tconst js = await resp.json();\n\n\t\t\tif (Array.isArray(js)) {\n\t\t\t\tObject.defineProperty(js, ClientCore.etag, {\n\t\t\t\t\tvalue: resp.headers.get('ETag'),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn js;\n\t\t}\n\t}\n}\n\nexport class Client extends ClientCore {\n\tconstructor(baseURL: string) {\n\t\tsuper(baseURL);\n\t}\n\n\tsetBasicAuth(user: string, pass: string) {\n\t\tconst enc = btoa(`${user}:${pass}`);\n\t\tthis.headers.set('Authorization', `Basic ${enc}`);\n\t}\n\n\tsetAuthToken(token: string) {\n\t\tthis.headers.set('Authorization', `Bearer ${token}`);\n\t}\n\n\t//// Task\n\n\tasync createTask(obj: Task): Promise<Task> {\n\t\treturn this.createName(\"task\", obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync deleteTask(id: string): Promise<void> {\n\t\treturn this.deleteName(\"task\", id);\n\t}\n\n\t// TODO: Add find*()\n\n\t// TODO: Add GetOpts\n\tasync getTask(id: string): Promise<Task> {\n\t\treturn this.getName(\"task\", id);\n\t}\n\n\tasync listTask(opts?: ListOpts | null): Promise<Task[]> {\n\t\treturn this.listName(\"task\", opts);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync replaceTask(id: string, obj: Task): Promise<Task> {\n\t\treturn this.replaceName(\"task\", id, obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync updateTask(id: string, obj: Task): Promise<Task> {\n\t\treturn this.updateName(\"task\", id, obj);\n\t}\n\n\t// TODO: Add streamGet\n\t// TODO: Add streamList\n\n\t//// Token\n\n\tasync createToken(obj: Token): Promise<Token> {\n\t\treturn this.createName(\"token\", obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync deleteToken(id: string): Promise<void> {\n\t\treturn this.deleteName(\"token\", id);\n\t}\n\n\t// TODO: Add find*()\n\n\t// TODO: Add GetOpts\n\tasync getToken(id: string): Promise<Token> {\n\t\treturn this.getName(\"token\", id);\n\t}\n\n\tasync listToken(opts?: ListOpts | null): Promise<Token[]> {\n\t\treturn this.listName(\"token\", opts);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync replaceToken(id: string, obj: Token): Promise<Token> {\n\t\treturn this.replaceName(\"token\", id, obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync updateToken(id: string, obj: Token): Promise<Token> {\n\t\treturn this.updateName(\"token\", id, obj);\n\t}\n\n\t// TODO: Add streamGet\n\t// TODO: Add streamList\n\n\t//// User\n\n\tasync createUser(obj: User): Promise<User> {\n\t\treturn this.createName(\"user\", obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync deleteUser(id: string): Promise<void> {\n\t\treturn this.deleteName(\"user\", id);\n\t}\n\n\t// TODO: Add find*()\n\n\t// TODO: Add GetOpts\n\tasync getUser(id: string): Promise<User> {\n\t\treturn this.getName(\"user\", id);\n\t}\n\n\tasync listUser(opts?: ListOpts | null): Promise<User[]> {\n\t\treturn this.listName(\"user\", opts);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync replaceUser(id: string, obj: User): Promise<User> {\n\t\treturn this.replaceName(\"user\", id, obj);\n\t}\n\n\t// TODO: Add UpdateOpts\n\tasync updateUser(id: string, obj: User): Promise<User> {\n\t\treturn this.updateName(\"user\", id, obj);\n\t}\n\n\t// TODO: Add streamGet\n\t// TODO: Add streamList\n}\n\nexport class Error {\n\tmessages: string[];\n\n\tconstructor(json: JSONError) {\n\t\tthis.messages = json.messages;\n\t}\n\n\ttoString(): string {\n\t\treturn this.messages[0] ?? 'error';\n\t}\n}\n"]}